<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OneStore API Examples</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div class="container py-5">
        <h1 class="mb-4">OneStore API Examples</h1>
        
        <!-- Sliders Section -->
        <section class="mb-5">
            <h2>Homepage Sliders</h2>
            <p class="text-muted">Automatically loads sliders from the database</p>
            
            <!-- This will auto-load sliders when page loads -->
            <div id="slidersContainer" data-onestore="sliders"></div>
        </section>
        
        <!-- Featured Products Section -->
        <section class="mb-5">
            <h2>Featured Products</h2>
            <p class="text-muted">Automatically loads featured products (limit: 4)</p>
            
            <!-- This will auto-load featured products when page loads -->
            <div id="featuredProducts" data-onestore="featured-products" data-limit="4"></div>
        </section>
        
        <!-- Categories Section -->
        <section class="mb-5">
            <h2>Categories</h2>
            <div class="row">
                <div class="col-md-6">
                    <h5>As Select Dropdown</h5>
                    <select id="categorySelect" class="form-select" data-onestore="categories" data-type="select">
                        <option>Loading...</option>
                    </select>
                </div>
                <div class="col-md-6">
                    <h5>As List</h5>
                    <ul id="categoryList" data-onestore="categories" data-type="list" class="list-unstyled">
                        <li>Loading...</li>
                    </ul>
                </div>
            </div>
        </section>
        
        <!-- Manual API Usage Section -->
        <section class="mb-5">
            <h2>Manual API Usage</h2>
            <p class="text-muted">Examples of using the JavaScript API directly</p>
            
            <div class="row">
                <div class="col-md-4">
                    <button class="btn btn-primary w-100 mb-2" onclick="loadProductsByCategory()">
                        Load Electronics Products
                    </button>
                </div>
                <div class="col-md-4">
                    <button class="btn btn-success w-100 mb-2" onclick="loadAllCategories()">
                        Show All Categories
                    </button>
                </div>
                <div class="col-md-4">
                    <button class="btn btn-info w-100 mb-2" onclick="loadFeaturedProductsManual()">
                        Load 6 Featured Products
                    </button>
                </div>
            </div>
            
            <div id="manualResults" class="mt-3"></div>
        </section>
        
        <!-- Code Examples Section -->
        <section class="mb-5">
            <h2>Code Examples</h2>
            
            <div class="accordion" id="codeAccordion">
                <!-- Basic Usage -->
                <div class="accordion-item">
                    <h2 class="accordion-header">
                        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#basicUsage">
                            Basic Usage (Auto-load with HTML attributes)
                        </button>
                    </h2>
                    <div id="basicUsage" class="accordion-collapse collapse show" data-bs-parent="#codeAccordion">
                        <div class="accordion-body">
                            <pre><code>&lt;!-- Auto-load featured products --&gt;
&lt;div id="products" data-onestore="featured-products" data-limit="8"&gt;&lt;/div&gt;

&lt;!-- Auto-load categories as select --&gt;
&lt;select id="categories" data-onestore="categories" data-type="select"&gt;&lt;/select&gt;

&lt;!-- Auto-load sliders --&gt;
&lt;div id="sliders" data-onestore="sliders"&gt;&lt;/div&gt;</code></pre>
                        </div>
                    </div>
                </div>
                
                <!-- JavaScript API -->
                <div class="accordion-item">
                    <h2 class="accordion-header">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#jsApi">
                            JavaScript API Usage
                        </button>
                    </h2>
                    <div id="jsApi" class="accordion-collapse collapse" data-bs-parent="#codeAccordion">
                        <div class="accordion-body">
                            <pre><code>// Get featured products
const response = await oneStoreAPI.getFeaturedProducts(8);
console.log(response.products);

// Get products by category
const categoryProducts = await oneStoreAPI.getProductsByCategory(1, 12);

// Get all categories
const categories = await oneStoreAPI.getCategories();

// Get sliders
const sliders = await oneStoreAPI.getSliders();

// Helper functions
OneStore.loadFeaturedProducts('containerId', 8);
OneStore.loadCategories('selectId', 'select');
OneStore.loadSliders('sliderId');</code></pre>
                        </div>
                    </div>
                </div>
                
                <!-- jQuery Usage -->
                <div class="accordion-item">
                    <h2 class="accordion-header">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#jqueryUsage">
                            jQuery Usage
                        </button>
                    </h2>
                    <div id="jqueryUsage" class="accordion-collapse collapse" data-bs-parent="#codeAccordion">
                        <div class="accordion-body">
                            <pre><code>// Using jQuery plugin
$.oneStore.getFeaturedProducts(8).then(response => {
    console.log(response.products);
});

$.oneStore.getCategories().then(response => {
    console.log(response.categories);
});

$.oneStore.getProductsByCategory(1, 12).then(response => {
    console.log(response.products);
});</code></pre>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>
    
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- OneStore API -->
    <script src="/public/assets/js/onestore-api.js"></script>
    
    <script>
        // Manual API usage examples
        async function loadProductsByCategory() {
            const container = document.getElementById('manualResults');
            container.innerHTML = '<div class="alert alert-info"><i class="fas fa-spinner fa-spin"></i> Loading electronics products...</div>';
            
            try {
                // Assuming category ID 1 is Electronics
                const response = await oneStoreAPI.getProductsByCategory(1, 6);
                
                if (response.success && response.products.length > 0) {
                    let html = '<h5>Electronics Products:</h5><div class="row">';
                    response.products.forEach(product => {
                        const imageUrl = oneStoreAPI.getProductImageUrl(product.image_path);
                        const price = oneStoreAPI.formatPrice(product.price);
                        
                        html += `
                            <div class="col-md-4 mb-3">
                                <div class="card">
                                    <img src="${imageUrl}" class="card-img-top" style="height: 150px; object-fit: cover;">
                                    <div class="card-body">
                                        <h6 class="card-title">${product.productName}</h6>
                                        <p class="text-primary">${price}</p>
                                    </div>
                                </div>
                            </div>
                        `;
                    });
                    html += '</div>';
                    container.innerHTML = html;
                } else {
                    container.innerHTML = '<div class="alert alert-warning">No electronics products found.</div>';
                }
            } catch (error) {
                container.innerHTML = '<div class="alert alert-danger">Error loading products.</div>';
            }
        }
        
        async function loadAllCategories() {
            const container = document.getElementById('manualResults');
            container.innerHTML = '<div class="alert alert-info"><i class="fas fa-spinner fa-spin"></i> Loading categories...</div>';
            
            try {
                const response = await oneStoreAPI.getCategories();
                
                if (response.success) {
                    let html = '<h5>All Categories:</h5><div class="row">';
                    response.categories.forEach(category => {
                        html += `
                            <div class="col-md-3 mb-2">
                                <div class="badge bg-primary p-2 w-100">
                                    ${category.catName}
                                </div>
                            </div>
                        `;
                    });
                    html += '</div>';
                    container.innerHTML = html;
                }
            } catch (error) {
                container.innerHTML = '<div class="alert alert-danger">Error loading categories.</div>';
            }
        }
        
        async function loadFeaturedProductsManual() {
            const container = document.getElementById('manualResults');
            OneStore.loadFeaturedProducts('manualResults', 6);
        }
    </script>
</body>
</html> 